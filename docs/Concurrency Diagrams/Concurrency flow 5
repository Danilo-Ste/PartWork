@startuml
title Замовник змінює умови після вибору виконавця, але до оплати

actor "Замовник" as C
actor "Виконавець" as W
participant "TaskService" as Task
participant "NotificationService" as Notify

C -> Task: Обрати виконавця (W)
Task -> Task: Статус = "Виконавець підтверджений"
Task -> Notify: Повідомлення W
Notify -> W: "Вас обрано для виконання завдання"

par Одночасна дія
    C -> Task: Змінити опис / оплату завдання
end

Task -> Task: Перевірка статусу
alt Статус = "Виконавець підтверджений"
    Task -> Notify: Повідомити обидві сторони
    Notify -> W: "Замовник змінив умови — потрібно підтвердження"
    Notify -> C: "Виконавець має прийняти нові умови"
else Статус = "Виконується" або "Оплачено"
    Task -> Notify: "Редагування недоступне"
    Notify -> C: "Не можна змінювати після початку роботи"
end

@enduml
